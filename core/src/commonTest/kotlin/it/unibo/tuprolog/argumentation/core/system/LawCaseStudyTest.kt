package it.unibo.tuprolog.argumentation.core.system

import it.unibo.tuprolog.argumentation.core.Arg2pSolver
import it.unibo.tuprolog.argumentation.core.TestingUtils
import it.unibo.tuprolog.argumentation.core.dsl.arg2pScope
import it.unibo.tuprolog.argumentation.core.libs.basic.FlagsBuilder
import it.unibo.tuprolog.core.Struct
import it.unibo.tuprolog.core.parsing.parse
import it.unibo.tuprolog.solve.MutableSolver
import it.unibo.tuprolog.solve.SolveOptions
import it.unibo.tuprolog.solve.TimeDuration
import it.unibo.tuprolog.solve.classic.ClassicSolverFactory
import it.unibo.tuprolog.theory.Theory
import it.unibo.tuprolog.theory.parsing.parse
import kotlin.test.Ignore
import kotlin.test.Test
import kotlin.time.DurationUnit
import kotlin.time.ExperimentalTime
import kotlin.time.measureTime

@Ignore
class LawCaseStudyTest {
    private val baseTheory: String =
        """
        art1a: evaluate(Ev), hasAgent(Ev,X), licensee(X), hasTheme(Ev,P), product(P) => o(-evaluate(Ev)).
        
        art1b: evaluate(Ev), hasAgent(Ev,X), licensee(X), hasTheme(Ev,P), product(P), isLicenceOf(L,P), licence(L), hasTheme(Eg,L), hasAgent(Eg,Y), licensor(Y), grant(Eg), rexist(Eg), hasReceiver(Eg,X) => p(evaluate(Ev)).
        sup(art1b, art1a).
        
        art2aPart1: evaluate(Ev), rexist(Ev), hasResult(Ev,R), result(R), publish(Ep), hasAgent(Ep,X), licensee(X), hasTheme(Ep,R) => condition_2(Ep,X,R).
        art2aPart2: condition_2(Ep,X,R) => o(-publish(Ep)).
        
        art2b: approve(Ea), rexist(Ea), hasTheme(Ea,Ep), hasAgent(Ea,Y), licensor(Y), publish(Ep), hasAgent(Ep,X), licensee(X), hasTheme(Ep,R), result(R), hasResult(Ev,R), evaluate(Ev), rexist(Ev) => p(publish(Ep)).
        sup(art2b, art2aPart2).
        
        art2cPart1: condition_2(Ep,X,R), o(-publish(Ep)), rexist(Ep) => o(remove(ca(Ep,X,R))).
        art2cPart2: condition_2(Ep,X,R), o(-publish(Ep)), rexist(Ep) => remove(ca(Ep,X,R)).
        art2cPart3: condition_2(Ep,X,R), o(-publish(Ep)), rexist(Ep) => hasTheme(ca(Ep,X,R),R).
        art2cPart4: condition_2(Ep,X,R), o(-publish(Ep)), rexist(Ep) => hasAgent(ca(Ep,X,R),X).
        art2e: condition_2(Ep,X,R), o(-publish(Ep)), rexist(Ep) => compensate(ca(Ep,X,R),Ep).
        
        art3a: publish(Ep), hasAgent(Ep,X), licensee(X), hasTheme(Ep,C), comment(C), isCommentOf(C,Ev), evaluate(Ev), rexist(Ev) => o(-publish(Ep)).
        art3b: publish(Ep), hasAgent(Ep,X), licensee(X), hasTheme(Ep,C), comment(C), isCommentOf(C,Ev), evaluate(Ev), rexist(Ev), hasResult(Ev,R), hasTheme(Epr,R), hasAgent(Epr,X), publish(Epr), p(publish(Epr)) => p(publish(Ep)).
        sup(art3b, art3a).
        
        art4a: publish(Ep), hasAgent(Ep,X), licensee(X), hasTheme(Ep,R), result(R), hasResult(Ev,R), evaluate(Ev), rexist(Ev), hasTheme(Ec,Ev), commission(Ec), rexist(Ec) => o(publish(Ep)).
        sup(art4a, art2aPart2).
        
        ccRuleComp1: remove(ca(Ep,X,R)), hasTheme(ca(Ep,X,R),R), hasAgent(ca(Ep,X,R),X), rexist(Er), remove(Er), hasTheme(Er,R), hasAgent(Er,X) => rexist(ca(Ep,X,R)).
        ccRuleComp2: compensate(Y,X), rexist(Y) => compensated(X).
        
        ccRuleEp1: o(-publish(Ep)), rexist(Ep), ~(compensated(Ep)) => referTo(viol(Ep),Ep).
        ccRuleEp2: o(publish(Ep)), ~(rexist(Ep)) => referTo(viol(Ep),Ep).
        ccRuleEr: o(remove(Er)) => referTo(viol(Er),Er).
        
        ruleViolation: referTo(viol(X),X) => violation(viol(X)).
        
        f1 :-> licensee(x_0).
        f2 :-> licensor(y_0).
        f3 :-> product(p_0).
        f4 :-> result(r_0).
        f5 :-> licence(l_0).
        f6 :-> isLicenceOf(l_0,p_0).
        f7 :-> comment(c_0).
        f8 :-> approve(ea_0).
        f9 :-> hasAgent(ea_0,y_0).
        f10 :-> hasTheme(ea_0,epr_0).
        f11 :-> commission(ec_0).
        f12 :-> hasTheme(ec_0,ev_0).
        f13 :-> evaluate(ev_0).
        f14 :-> hasAgent(ev_0,x_0).
        f15 :-> hasTheme(ev_0,p_0).
        f16 :-> hasResult(ev_0,r_0).
        f17 :-> grant(eg_0).
        f18 :-> hasAgent(eg_0,y_0).
        f19 :-> hasReceiver(eg_0,x_0).
        f20 :-> hasTheme(eg_0,l_0).
        f21 :-> publish(epc_0).
        f22 :-> hasAgent(epc_0,x_0).
        f23 :-> hasTheme(epc_0,c_0).
        f24 :-> isCommentOf(c_0,ev_0).
        f25 :-> publish(epr_0).
        f26 :-> hasAgent(epr_0,x_0).
        f27 :-> hasTheme(epr_0,r_0).
        f28 :-> remove(er_0).
        f29 :-> hasAgent(er_0,x_0).
        f30 :-> hasTheme(er_0,r_0).
        f31 :-> rexist(ea_0).
        f32 :-> rexist(ec_0).
        f33 :-> rexist(ev_0).
        f34 :-> rexist(epr_0).

        f35 :-> licensee(x_1).
        f36 :-> licensor(y_1).
        f37 :-> product(p_1).
        f38 :-> result(r_1).
        f39 :-> licence(l_1).
        f40 :-> isLicenceOf(l_1,p_1).
        f41 :-> comment(c_1).
        f42 :-> approve(ea_1).
        f43 :-> hasAgent(ea_1,y_1).
        f44 :-> hasTheme(ea_1,epr_1).
        f45 :-> commission(ec_1).
        f46 :-> hasTheme(ec_1,ev_1).
        f47 :-> evaluate(ev_1).
        f48 :-> hasAgent(ev_1,x_1).
        f49 :-> hasTheme(ev_1,p_1).
        f50 :-> hasResult(ev_1,r_1).
        f51 :-> grant(eg_1).
        f52 :-> hasAgent(eg_1,y_1).
        f53 :-> hasReceiver(eg_1,x_1).
        f54 :-> hasTheme(eg_1,l_1).
        f55 :-> publish(epc_1).
        f56 :-> hasAgent(epc_1,x_1).
        f57 :-> hasTheme(epc_1,c_1).
        f58 :-> isCommentOf(c_1,ev_1).
        f59 :-> publish(epr_1).
        f60 :-> hasAgent(epr_1,x_1).
        f61 :-> hasTheme(epr_1,r_1).
        f62 :-> remove(er_1).
        f63 :-> hasAgent(er_1,x_1).
        f64 :-> hasTheme(er_1,r_1).
        f65 :-> rexist(ev_1).
        f66 :-> rexist(eg_1).
        f67 :-> licensee(x_2).
        f68 :-> licensor(y_2).
        f69 :-> product(p_2).
        f70 :-> result(r_2).
        f71 :-> licence(l_2).
        f72 :-> isLicenceOf(l_2,p_2).
        f73 :-> comment(c_2).
        f74 :-> approve(ea_2).
        f75 :-> hasAgent(ea_2,y_2).
        f76 :-> hasTheme(ea_2,epr_2).
        f77 :-> commission(ec_2).
        f78 :-> hasTheme(ec_2,ev_2).
        f79 :-> evaluate(ev_2).
        f80 :-> hasAgent(ev_2,x_2).
        f81 :-> hasTheme(ev_2,p_2).
        f82 :-> hasResult(ev_2,r_2).
        f83 :-> grant(eg_2).
        f84 :-> hasAgent(eg_2,y_2).
        f85 :-> hasReceiver(eg_2,x_2).
        f86 :-> hasTheme(eg_2,l_2).
        f87 :-> publish(epc_2).
        f88 :-> hasAgent(epc_2,x_2).
        f89 :-> hasTheme(epc_2,c_2).
        f90 :-> isCommentOf(c_2,ev_2).
        f91 :-> publish(epr_2).
        f92 :-> hasAgent(epr_2,x_2).
        f93 :-> hasTheme(epr_2,r_2).
        f94 :-> remove(er_2).
        f95 :-> hasAgent(er_2,x_2).
        f96 :-> hasTheme(er_2,r_2).
        f97 :-> rexist(ea_2).
        f98 :-> rexist(ec_2).
        f99 :-> rexist(eg_2).
        f100 :-> licensee(x_3).
        f101 :-> licensor(y_3).
        f102 :-> product(p_3).
        f103 :-> result(r_3).
        f104 :-> licence(l_3).
        f105 :-> isLicenceOf(l_3,p_3).
        f106 :-> comment(c_3).
        f107 :-> approve(ea_3).
        f108 :-> hasAgent(ea_3,y_3).
        f109 :-> hasTheme(ea_3,epr_3).
        f110 :-> commission(ec_3).
        f111 :-> hasTheme(ec_3,ev_3).
        f112 :-> evaluate(ev_3).
        f113 :-> hasAgent(ev_3,x_3).
        f114 :-> hasTheme(ev_3,p_3).
        f115 :-> hasResult(ev_3,r_3).
        f116 :-> grant(eg_3).
        f117 :-> hasAgent(eg_3,y_3).
        f118 :-> hasReceiver(eg_3,x_3).
        f119 :-> hasTheme(eg_3,l_3).
        f120 :-> publish(epc_3).
        f121 :-> hasAgent(epc_3,x_3).
        f122 :-> hasTheme(epc_3,c_3).
        f123 :-> isCommentOf(c_3,ev_3).
        f124 :-> publish(epr_3).
        f125 :-> hasAgent(epr_3,x_3).
        f126 :-> hasTheme(epr_3,r_3).
        f127 :-> remove(er_3).
        f128 :-> hasAgent(er_3,x_3).
        f129 :-> hasTheme(er_3,r_3).
        f130 :-> rexist(ec_3).
        f131 :-> rexist(ev_3).
        f132 :-> rexist(eg_3).
        f133 :-> rexist(epc_3).
        f134 :-> rexist(er_3).
        f135 :-> licensee(x_4).
        f136 :-> licensor(y_4).
        f137 :-> product(p_4).
        f138 :-> result(r_4).
        f139 :-> licence(l_4).
        f140 :-> isLicenceOf(l_4,p_4).
        f141 :-> comment(c_4).
        f142 :-> approve(ea_4).
        f143 :-> hasAgent(ea_4,y_4).
        f144 :-> hasTheme(ea_4,epr_4).
        f145 :-> commission(ec_4).
        f146 :-> hasTheme(ec_4,ev_4).
        f147 :-> evaluate(ev_4).
        f148 :-> hasAgent(ev_4,x_4).
        f149 :-> hasTheme(ev_4,p_4).
        f150 :-> hasResult(ev_4,r_4).
        f151 :-> grant(eg_4).
        f152 :-> hasAgent(eg_4,y_4).
        f153 :-> hasReceiver(eg_4,x_4).
        f154 :-> hasTheme(eg_4,l_4).
        f155 :-> publish(epc_4).
        f156 :-> hasAgent(epc_4,x_4).
        f157 :-> hasTheme(epc_4,c_4).
        f158 :-> isCommentOf(c_4,ev_4).
        f159 :-> publish(epr_4).
        f160 :-> hasAgent(epr_4,x_4).
        f161 :-> hasTheme(epr_4,r_4).
        f162 :-> remove(er_4).
        f163 :-> hasAgent(er_4,x_4).
        f164 :-> hasTheme(er_4,r_4).
        f165 :-> rexist(ec_4).
        f166 :-> rexist(eg_4).
        f167 :-> rexist(epr_4).
        f168 :-> licensee(x_5).
        f169 :-> licensor(y_5).
        f170 :-> product(p_5).
        f171 :-> result(r_5).
        f172 :-> licence(l_5).
        f173 :-> isLicenceOf(l_5,p_5).
        f174 :-> comment(c_5).
        f175 :-> approve(ea_5).
        f176 :-> hasAgent(ea_5,y_5).
        f177 :-> hasTheme(ea_5,epr_5).
        f178 :-> commission(ec_5).
        f179 :-> hasTheme(ec_5,ev_5).
        f180 :-> evaluate(ev_5).
        f181 :-> hasAgent(ev_5,x_5).
        f182 :-> hasTheme(ev_5,p_5).
        f183 :-> hasResult(ev_5,r_5).
        f184 :-> grant(eg_5).
        f185 :-> hasAgent(eg_5,y_5).
        f186 :-> hasReceiver(eg_5,x_5).
        f187 :-> hasTheme(eg_5,l_5).
        f188 :-> publish(epc_5).
        f189 :-> hasAgent(epc_5,x_5).
        f190 :-> hasTheme(epc_5,c_5).
        f191 :-> isCommentOf(c_5,ev_5).
        f192 :-> publish(epr_5).
        f193 :-> hasAgent(epr_5,x_5).
        f194 :-> hasTheme(epr_5,r_5).
        f195 :-> remove(er_5).
        f196 :-> hasAgent(er_5,x_5).
        f197 :-> hasTheme(er_5,r_5).
        f198 :-> rexist(ea_5).
        f199 :-> rexist(ev_5).
        f200 :-> rexist(er_5).
        f201 :-> licensee(x_6).
        f202 :-> licensor(y_6).
        f203 :-> product(p_6).
        f204 :-> result(r_6).
        f205 :-> licence(l_6).
        f206 :-> isLicenceOf(l_6,p_6).
        f207 :-> comment(c_6).
        f208 :-> approve(ea_6).
        f209 :-> hasAgent(ea_6,y_6).
        f210 :-> hasTheme(ea_6,epr_6).
        f211 :-> commission(ec_6).
        f212 :-> hasTheme(ec_6,ev_6).
        f213 :-> evaluate(ev_6).
        f214 :-> hasAgent(ev_6,x_6).
        f215 :-> hasTheme(ev_6,p_6).
        f216 :-> hasResult(ev_6,r_6).
        f217 :-> grant(eg_6).
        f218 :-> hasAgent(eg_6,y_6).
        f219 :-> hasReceiver(eg_6,x_6).
        f220 :-> hasTheme(eg_6,l_6).
        f221 :-> publish(epc_6).
        f222 :-> hasAgent(epc_6,x_6).
        f223 :-> hasTheme(epc_6,c_6).
        f224 :-> isCommentOf(c_6,ev_6).
        f225 :-> publish(epr_6).
        f226 :-> hasAgent(epr_6,x_6).
        f227 :-> hasTheme(epr_6,r_6).
        f228 :-> remove(er_6).
        f229 :-> hasAgent(er_6,x_6).
        f230 :-> hasTheme(er_6,r_6).
        f231 :-> rexist(ea_6).
        f232 :-> rexist(ec_6).
        f233 :-> rexist(eg_6).
        f234 :-> licensee(x_7).
        f235 :-> licensor(y_7).
        f236 :-> product(p_7).
        f237 :-> result(r_7).
        f238 :-> licence(l_7).
        f239 :-> isLicenceOf(l_7,p_7).
        f240 :-> comment(c_7).
        f241 :-> approve(ea_7).
        f242 :-> hasAgent(ea_7,y_7).
        f243 :-> hasTheme(ea_7,epr_7).
        f244 :-> commission(ec_7).
        f245 :-> hasTheme(ec_7,ev_7).
        f246 :-> evaluate(ev_7).
        f247 :-> hasAgent(ev_7,x_7).
        f248 :-> hasTheme(ev_7,p_7).
        f249 :-> hasResult(ev_7,r_7).
        f250 :-> grant(eg_7).
        f251 :-> hasAgent(eg_7,y_7).
        f252 :-> hasReceiver(eg_7,x_7).
        f253 :-> hasTheme(eg_7,l_7).
        f254 :-> publish(epc_7).
        f255 :-> hasAgent(epc_7,x_7).
        f256 :-> hasTheme(epc_7,c_7).
        f257 :-> isCommentOf(c_7,ev_7).
        f258 :-> publish(epr_7).
        f259 :-> hasAgent(epr_7,x_7).
        f260 :-> hasTheme(epr_7,r_7).
        f261 :-> remove(er_7).
        f262 :-> hasAgent(er_7,x_7).
        f263 :-> hasTheme(er_7,r_7).
        f264 :-> rexist(ea_7).
        f265 :-> rexist(ev_7).
        f266 :-> rexist(epc_7).
        f267 :-> licensee(x_8).
        f268 :-> licensor(y_8).
        f269 :-> product(p_8).
        f270 :-> result(r_8).
        f271 :-> licence(l_8).
        f272 :-> isLicenceOf(l_8,p_8).
        f273 :-> comment(c_8).
        f274 :-> approve(ea_8).
        f275 :-> hasAgent(ea_8,y_8).
        f276 :-> hasTheme(ea_8,epr_8).
        f277 :-> commission(ec_8).
        f278 :-> hasTheme(ec_8,ev_8).
        f279 :-> evaluate(ev_8).
        f280 :-> hasAgent(ev_8,x_8).
        f281 :-> hasTheme(ev_8,p_8).
        f282 :-> hasResult(ev_8,r_8).
        f283 :-> grant(eg_8).
        f284 :-> hasAgent(eg_8,y_8).
        f285 :-> hasReceiver(eg_8,x_8).
        f286 :-> hasTheme(eg_8,l_8).
        f287 :-> publish(epc_8).
        f288 :-> hasAgent(epc_8,x_8).
        f289 :-> hasTheme(epc_8,c_8).
        f290 :-> isCommentOf(c_8,ev_8).
        f291 :-> publish(epr_8).
        f292 :-> hasAgent(epr_8,x_8).
        f293 :-> hasTheme(epr_8,r_8).
        f294 :-> remove(er_8).
        f295 :-> hasAgent(er_8,x_8).
        f296 :-> hasTheme(er_8,r_8).
        f297 :-> rexist(ev_8).
        f298 :-> rexist(eg_8).
        f299 :-> rexist(er_8).
        f300 :-> licensee(x_9).
        f301 :-> licensor(y_9).
        f302 :-> product(p_9).
        f303 :-> result(r_9).
        f304 :-> licence(l_9).
        f305 :-> isLicenceOf(l_9,p_9).
        f306 :-> comment(c_9).
        f307 :-> approve(ea_9).
        f308 :-> hasAgent(ea_9,y_9).
        f309 :-> hasTheme(ea_9,epr_9).
        f310 :-> commission(ec_9).
        f311 :-> hasTheme(ec_9,ev_9).
        f312 :-> evaluate(ev_9).
        f313 :-> hasAgent(ev_9,x_9).
        f314 :-> hasTheme(ev_9,p_9).
        f315 :-> hasResult(ev_9,r_9).
        f316 :-> grant(eg_9).
        f317 :-> hasAgent(eg_9,y_9).
        f318 :-> hasReceiver(eg_9,x_9).
        f319 :-> hasTheme(eg_9,l_9).
        f320 :-> publish(epc_9).
        f321 :-> hasAgent(epc_9,x_9).
        f322 :-> hasTheme(epc_9,c_9).
        f323 :-> isCommentOf(c_9,ev_9).
        f324 :-> publish(epr_9).
        f325 :-> hasAgent(epr_9,x_9).
        f326 :-> hasTheme(epr_9,r_9).
        f327 :-> remove(er_9).
        f328 :-> hasAgent(er_9,x_9).
        f329 :-> hasTheme(er_9,r_9).
        f330 :-> rexist(ea_9).
        f331 :-> rexist(ev_9).
        f332 :-> rexist(eg_9).
        f333 :-> rexist(epr_9).
        f334 :-> rexist(er_9).
        f335 :-> licensee(x_10).
        f336 :-> licensor(y_10).
        f337 :-> product(p_10).
        f338 :-> result(r_10).
        f339 :-> licence(l_10).
        f340 :-> isLicenceOf(l_10,p_10).
        f341 :-> comment(c_10).
        f342 :-> approve(ea_10).
        f343 :-> hasAgent(ea_10,y_10).
        f344 :-> hasTheme(ea_10,epr_10).
        f345 :-> commission(ec_10).
        f346 :-> hasTheme(ec_10,ev_10).
        f347 :-> evaluate(ev_10).
        f348 :-> hasAgent(ev_10,x_10).
        f349 :-> hasTheme(ev_10,p_10).
        f350 :-> hasResult(ev_10,r_10).
        f351 :-> grant(eg_10).
        f352 :-> hasAgent(eg_10,y_10).
        f353 :-> hasReceiver(eg_10,x_10).
        f354 :-> hasTheme(eg_10,l_10).
        f355 :-> publish(epc_10).
        f356 :-> hasAgent(epc_10,x_10).
        f357 :-> hasTheme(epc_10,c_10).
        f358 :-> isCommentOf(c_10,ev_10).
        f359 :-> publish(epr_10).
        f360 :-> hasAgent(epr_10,x_10).
        f361 :-> hasTheme(epr_10,r_10).
        f362 :-> remove(er_10).
        f363 :-> hasAgent(er_10,x_10).
        f364 :-> hasTheme(er_10,r_10).
        f365 :-> rexist(ev_10).
        f366 :-> rexist(eg_10).
        f367 :-> rexist(epc_10).
        f368 :-> rexist(epr_10).
        f369 :-> licensee(x_11).
        f370 :-> licensor(y_11).
        f371 :-> product(p_11).
        f372 :-> result(r_11).
        f373 :-> licence(l_11).
        f374 :-> isLicenceOf(l_11,p_11).
        f375 :-> comment(c_11).
        f376 :-> approve(ea_11).
        f377 :-> hasAgent(ea_11,y_11).
        f378 :-> hasTheme(ea_11,epr_11).
        f379 :-> commission(ec_11).
        f380 :-> hasTheme(ec_11,ev_11).
        f381 :-> evaluate(ev_11).
        f382 :-> hasAgent(ev_11,x_11).
        f383 :-> hasTheme(ev_11,p_11).
        f384 :-> hasResult(ev_11,r_11).
        f385 :-> grant(eg_11).
        f386 :-> hasAgent(eg_11,y_11).
        f387 :-> hasReceiver(eg_11,x_11).
        f388 :-> hasTheme(eg_11,l_11).
        f389 :-> publish(epc_11).
        f390 :-> hasAgent(epc_11,x_11).
        f391 :-> hasTheme(epc_11,c_11).
        f392 :-> isCommentOf(c_11,ev_11).
        f393 :-> publish(epr_11).
        f394 :-> hasAgent(epr_11,x_11).
        f395 :-> hasTheme(epr_11,r_11).
        f396 :-> remove(er_11).
        f397 :-> hasAgent(er_11,x_11).
        f398 :-> hasTheme(er_11,r_11).
        f399 :-> rexist(ea_11).
        f400 :-> rexist(ec_11).
        f401 :-> rexist(ev_11).
        f402 :-> rexist(eg_11).
        f403 :-> rexist(epr_11).
        f404 :-> licensee(x_12).
        f405 :-> licensor(y_12).
        f406 :-> product(p_12).
        f407 :-> result(r_12).
        f408 :-> licence(l_12).
        f409 :-> isLicenceOf(l_12,p_12).
        f410 :-> comment(c_12).
        f411 :-> approve(ea_12).
        f412 :-> hasAgent(ea_12,y_12).
        f413 :-> hasTheme(ea_12,epr_12).
        f414 :-> commission(ec_12).
        f415 :-> hasTheme(ec_12,ev_12).
        f416 :-> evaluate(ev_12).
        f417 :-> hasAgent(ev_12,x_12).
        f418 :-> hasTheme(ev_12,p_12).
        f419 :-> hasResult(ev_12,r_12).
        f420 :-> grant(eg_12).
        f421 :-> hasAgent(eg_12,y_12).
        f422 :-> hasReceiver(eg_12,x_12).
        f423 :-> hasTheme(eg_12,l_12).
        f424 :-> publish(epc_12).
        f425 :-> hasAgent(epc_12,x_12).
        f426 :-> hasTheme(epc_12,c_12).
        f427 :-> isCommentOf(c_12,ev_12).
        f428 :-> publish(epr_12).
        f429 :-> hasAgent(epr_12,x_12).
        f430 :-> hasTheme(epr_12,r_12).
        f431 :-> remove(er_12).
        f432 :-> hasAgent(er_12,x_12).
        f433 :-> hasTheme(er_12,r_12).
        f434 :-> rexist(ev_12).
        f435 :-> rexist(eg_12).
        f436 :-> rexist(epc_12).
        f437 :-> rexist(er_12).
        f438 :-> licensee(x_13).
        f439 :-> licensor(y_13).
        f440 :-> product(p_13).
        f441 :-> result(r_13).
        f442 :-> licence(l_13).
        f443 :-> isLicenceOf(l_13,p_13).
        f444 :-> comment(c_13).
        f445 :-> approve(ea_13).
        f446 :-> hasAgent(ea_13,y_13).
        f447 :-> hasTheme(ea_13,epr_13).
        f448 :-> commission(ec_13).
        f449 :-> hasTheme(ec_13,ev_13).
        f450 :-> evaluate(ev_13).
        f451 :-> hasAgent(ev_13,x_13).
        f452 :-> hasTheme(ev_13,p_13).
        f453 :-> hasResult(ev_13,r_13).
        f454 :-> grant(eg_13).
        f455 :-> hasAgent(eg_13,y_13).
        f456 :-> hasReceiver(eg_13,x_13).
        f457 :-> hasTheme(eg_13,l_13).
        f458 :-> publish(epc_13).
        f459 :-> hasAgent(epc_13,x_13).
        f460 :-> hasTheme(epc_13,c_13).
        f461 :-> isCommentOf(c_13,ev_13).
        f462 :-> publish(epr_13).
        f463 :-> hasAgent(epr_13,x_13).
        f464 :-> hasTheme(epr_13,r_13).
        f465 :-> remove(er_13).
        f466 :-> hasAgent(er_13,x_13).
        f467 :-> hasTheme(er_13,r_13).
        f468 :-> rexist(ea_13).
        f469 :-> rexist(eg_13).
        f470 :-> licensee(x_14).
        f471 :-> licensor(y_14).
        f472 :-> product(p_14).
        f473 :-> result(r_14).
        f474 :-> licence(l_14).
        f475 :-> isLicenceOf(l_14,p_14).
        f476 :-> comment(c_14).
        f477 :-> approve(ea_14).
        f478 :-> hasAgent(ea_14,y_14).
        f479 :-> hasTheme(ea_14,epr_14).
        f480 :-> commission(ec_14).
        f481 :-> hasTheme(ec_14,ev_14).
        f482 :-> evaluate(ev_14).
        f483 :-> hasAgent(ev_14,x_14).
        f484 :-> hasTheme(ev_14,p_14).
        f485 :-> hasResult(ev_14,r_14).
        f486 :-> grant(eg_14).
        f487 :-> hasAgent(eg_14,y_14).
        f488 :-> hasReceiver(eg_14,x_14).
        f489 :-> hasTheme(eg_14,l_14).
        f490 :-> publish(epc_14).
        f491 :-> hasAgent(epc_14,x_14).
        f492 :-> hasTheme(epc_14,c_14).
        f493 :-> isCommentOf(c_14,ev_14).
        f494 :-> publish(epr_14).
        f495 :-> hasAgent(epr_14,x_14).
        f496 :-> hasTheme(epr_14,r_14).
        f497 :-> remove(er_14).
        f498 :-> hasAgent(er_14,x_14).
        f499 :-> hasTheme(er_14,r_14).
        f500 :-> rexist(ec_14).
        f501 :-> rexist(ev_14).
        f502 :-> rexist(eg_14).
        f503 :-> rexist(epr_14).
        f504 :-> licensee(x_15).
        f505 :-> licensor(y_15).
        f506 :-> product(p_15).
        f507 :-> result(r_15).
        f508 :-> licence(l_15).
        f509 :-> isLicenceOf(l_15,p_15).
        f510 :-> comment(c_15).
        f511 :-> approve(ea_15).
        f512 :-> hasAgent(ea_15,y_15).
        f513 :-> hasTheme(ea_15,epr_15).
        f514 :-> commission(ec_15).
        f515 :-> hasTheme(ec_15,ev_15).
        f516 :-> evaluate(ev_15).
        f517 :-> hasAgent(ev_15,x_15).
        f518 :-> hasTheme(ev_15,p_15).
        f519 :-> hasResult(ev_15,r_15).
        f520 :-> grant(eg_15).
        f521 :-> hasAgent(eg_15,y_15).
        f522 :-> hasReceiver(eg_15,x_15).
        f523 :-> hasTheme(eg_15,l_15).
        f524 :-> publish(epc_15).
        f525 :-> hasAgent(epc_15,x_15).
        f526 :-> hasTheme(epc_15,c_15).
        f527 :-> isCommentOf(c_15,ev_15).
        f528 :-> publish(epr_15).
        f529 :-> hasAgent(epr_15,x_15).
        f530 :-> hasTheme(epr_15,r_15).
        f531 :-> remove(er_15).
        f532 :-> hasAgent(er_15,x_15).
        f533 :-> hasTheme(er_15,r_15).
        f534 :-> rexist(ea_15).
        f535 :-> rexist(eg_15).
        f536 :-> licensee(x_16).
        f537 :-> licensor(y_16).
        f538 :-> product(p_16).
        f539 :-> result(r_16).
        f540 :-> licence(l_16).
        f541 :-> isLicenceOf(l_16,p_16).
        f542 :-> comment(c_16).
        f543 :-> approve(ea_16).
        f544 :-> hasAgent(ea_16,y_16).
        f545 :-> hasTheme(ea_16,epr_16).
        f546 :-> commission(ec_16).
        f547 :-> hasTheme(ec_16,ev_16).
        f548 :-> evaluate(ev_16).
        f549 :-> hasAgent(ev_16,x_16).
        f550 :-> hasTheme(ev_16,p_16).
        f551 :-> hasResult(ev_16,r_16).
        f552 :-> grant(eg_16).
        f553 :-> hasAgent(eg_16,y_16).
        f554 :-> hasReceiver(eg_16,x_16).
        f555 :-> hasTheme(eg_16,l_16).
        f556 :-> publish(epc_16).
        f557 :-> hasAgent(epc_16,x_16).
        f558 :-> hasTheme(epc_16,c_16).
        f559 :-> isCommentOf(c_16,ev_16).
        f560 :-> publish(epr_16).
        f561 :-> hasAgent(epr_16,x_16).
        f562 :-> hasTheme(epr_16,r_16).
        f563 :-> remove(er_16).
        f564 :-> hasAgent(er_16,x_16).
        f565 :-> hasTheme(er_16,r_16).
        f566 :-> rexist(ea_16).
        f567 :-> rexist(ec_16).
        f568 :-> rexist(ev_16).
        f569 :-> licensee(x_17).
        f570 :-> licensor(y_17).
        f571 :-> product(p_17).
        f572 :-> result(r_17).
        f573 :-> licence(l_17).
        f574 :-> isLicenceOf(l_17,p_17).
        f575 :-> comment(c_17).
        f576 :-> approve(ea_17).
        f577 :-> hasAgent(ea_17,y_17).
        f578 :-> hasTheme(ea_17,epr_17).
        f579 :-> commission(ec_17).
        f580 :-> hasTheme(ec_17,ev_17).
        f581 :-> evaluate(ev_17).
        f582 :-> hasAgent(ev_17,x_17).
        f583 :-> hasTheme(ev_17,p_17).
        f584 :-> hasResult(ev_17,r_17).
        f585 :-> grant(eg_17).
        f586 :-> hasAgent(eg_17,y_17).
        f587 :-> hasReceiver(eg_17,x_17).
        f588 :-> hasTheme(eg_17,l_17).
        f589 :-> publish(epc_17).
        f590 :-> hasAgent(epc_17,x_17).
        f591 :-> hasTheme(epc_17,c_17).
        f592 :-> isCommentOf(c_17,ev_17).
        f593 :-> publish(epr_17).
        f594 :-> hasAgent(epr_17,x_17).
        f595 :-> hasTheme(epr_17,r_17).
        f596 :-> remove(er_17).
        f597 :-> hasAgent(er_17,x_17).
        f598 :-> hasTheme(er_17,r_17).
        f599 :-> rexist(ec_17).
        f600 :-> rexist(er_17).
        f601 :-> licensee(x_18).
        f602 :-> licensor(y_18).
        f603 :-> product(p_18).
        f604 :-> result(r_18).
        f605 :-> licence(l_18).
        f606 :-> isLicenceOf(l_18,p_18).
        f607 :-> comment(c_18).
        f608 :-> approve(ea_18).
        f609 :-> hasAgent(ea_18,y_18).
        f610 :-> hasTheme(ea_18,epr_18).
        f611 :-> commission(ec_18).
        f612 :-> hasTheme(ec_18,ev_18).
        f613 :-> evaluate(ev_18).
        f614 :-> hasAgent(ev_18,x_18).
        f615 :-> hasTheme(ev_18,p_18).
        f616 :-> hasResult(ev_18,r_18).
        f617 :-> grant(eg_18).
        f618 :-> hasAgent(eg_18,y_18).
        f619 :-> hasReceiver(eg_18,x_18).
        f620 :-> hasTheme(eg_18,l_18).
        f621 :-> publish(epc_18).
        f622 :-> hasAgent(epc_18,x_18).
        f623 :-> hasTheme(epc_18,c_18).
        f624 :-> isCommentOf(c_18,ev_18).
        f625 :-> publish(epr_18).
        f626 :-> hasAgent(epr_18,x_18).
        f627 :-> hasTheme(epr_18,r_18).
        f628 :-> remove(er_18).
        f629 :-> hasAgent(er_18,x_18).
        f630 :-> hasTheme(er_18,r_18).
        f631 :-> rexist(ec_18).
        f632 :-> rexist(er_18).
        f633 :-> licensee(x_19).
        f634 :-> licensor(y_19).
        f635 :-> product(p_19).
        f636 :-> result(r_19).
        f637 :-> licence(l_19).
        f638 :-> isLicenceOf(l_19,p_19).
        f639 :-> comment(c_19).
        f640 :-> approve(ea_19).
        f641 :-> hasAgent(ea_19,y_19).
        f642 :-> hasTheme(ea_19,epr_19).
        f643 :-> commission(ec_19).
        f644 :-> hasTheme(ec_19,ev_19).
        f645 :-> evaluate(ev_19).
        f646 :-> hasAgent(ev_19,x_19).
        f647 :-> hasTheme(ev_19,p_19).
        f648 :-> hasResult(ev_19,r_19).
        f649 :-> grant(eg_19).
        f650 :-> hasAgent(eg_19,y_19).
        f651 :-> hasReceiver(eg_19,x_19).
        f652 :-> hasTheme(eg_19,l_19).
        f653 :-> publish(epc_19).
        f654 :-> hasAgent(epc_19,x_19).
        f655 :-> hasTheme(epc_19,c_19).
        f656 :-> isCommentOf(c_19,ev_19).
        f657 :-> publish(epr_19).
        f658 :-> hasAgent(epr_19,x_19).
        f659 :-> hasTheme(epr_19,r_19).
        f660 :-> remove(er_19).
        f661 :-> hasAgent(er_19,x_19).
        f662 :-> hasTheme(er_19,r_19).
        f663 :-> rexist(ea_19).
        f664 :-> rexist(ev_19).
        f665 :-> rexist(eg_19).
        f666 :-> licensee(x_20).
        f667 :-> licensor(y_20).
        f668 :-> product(p_20).
        f669 :-> result(r_20).
        f670 :-> licence(l_20).
        f671 :-> isLicenceOf(l_20,p_20).
        f672 :-> comment(c_20).
        f673 :-> approve(ea_20).
        f674 :-> hasAgent(ea_20,y_20).
        f675 :-> hasTheme(ea_20,epr_20).
        f676 :-> commission(ec_20).
        f677 :-> hasTheme(ec_20,ev_20).
        f678 :-> evaluate(ev_20).
        f679 :-> hasAgent(ev_20,x_20).
        f680 :-> hasTheme(ev_20,p_20).
        f681 :-> hasResult(ev_20,r_20).
        f682 :-> grant(eg_20).
        f683 :-> hasAgent(eg_20,y_20).
        f684 :-> hasReceiver(eg_20,x_20).
        f685 :-> hasTheme(eg_20,l_20).
        f686 :-> publish(epc_20).
        f687 :-> hasAgent(epc_20,x_20).
        f688 :-> hasTheme(epc_20,c_20).
        f689 :-> isCommentOf(c_20,ev_20).
        f690 :-> publish(epr_20).
        f691 :-> hasAgent(epr_20,x_20).
        f692 :-> hasTheme(epr_20,r_20).
        f693 :-> remove(er_20).
        f694 :-> hasAgent(er_20,x_20).
        f695 :-> hasTheme(er_20,r_20).
        f696 :-> rexist(ev_20).
        f697 :-> licensee(x_21).
        f698 :-> licensor(y_21).
        f699 :-> product(p_21).
        f700 :-> result(r_21).
        f701 :-> licence(l_21).
        f702 :-> isLicenceOf(l_21,p_21).
        f703 :-> comment(c_21).
        f704 :-> approve(ea_21).
        f705 :-> hasAgent(ea_21,y_21).
        f706 :-> hasTheme(ea_21,epr_21).
        f707 :-> commission(ec_21).
        f708 :-> hasTheme(ec_21,ev_21).
        f709 :-> evaluate(ev_21).
        f710 :-> hasAgent(ev_21,x_21).
        f711 :-> hasTheme(ev_21,p_21).
        f712 :-> hasResult(ev_21,r_21).
        f713 :-> grant(eg_21).
        f714 :-> hasAgent(eg_21,y_21).
        f715 :-> hasReceiver(eg_21,x_21).
        f716 :-> hasTheme(eg_21,l_21).
        f717 :-> publish(epc_21).
        f718 :-> hasAgent(epc_21,x_21).
        f719 :-> hasTheme(epc_21,c_21).
        f720 :-> isCommentOf(c_21,ev_21).
        f721 :-> publish(epr_21).
        f722 :-> hasAgent(epr_21,x_21).
        f723 :-> hasTheme(epr_21,r_21).
        f724 :-> remove(er_21).
        f725 :-> hasAgent(er_21,x_21).
        f726 :-> hasTheme(er_21,r_21).
        f727 :-> rexist(ec_21).
        f728 :-> rexist(epr_21).
        f729 :-> rexist(er_21).
        f730 :-> licensee(x_22).
        f731 :-> licensor(y_22).
        f732 :-> product(p_22).
        f733 :-> result(r_22).
        f734 :-> licence(l_22).
        f735 :-> isLicenceOf(l_22,p_22).
        f736 :-> comment(c_22).
        f737 :-> approve(ea_22).
        f738 :-> hasAgent(ea_22,y_22).
        f739 :-> hasTheme(ea_22,epr_22).
        f740 :-> commission(ec_22).
        f741 :-> hasTheme(ec_22,ev_22).
        f742 :-> evaluate(ev_22).
        f743 :-> hasAgent(ev_22,x_22).
        f744 :-> hasTheme(ev_22,p_22).
        f745 :-> hasResult(ev_22,r_22).
        f746 :-> grant(eg_22).
        f747 :-> hasAgent(eg_22,y_22).
        f748 :-> hasReceiver(eg_22,x_22).
        f749 :-> hasTheme(eg_22,l_22).
        f750 :-> publish(epc_22).
        f751 :-> hasAgent(epc_22,x_22).
        f752 :-> hasTheme(epc_22,c_22).
        f753 :-> isCommentOf(c_22,ev_22).
        f754 :-> publish(epr_22).
        f755 :-> hasAgent(epr_22,x_22).
        f756 :-> hasTheme(epr_22,r_22).
        f757 :-> remove(er_22).
        f758 :-> hasAgent(er_22,x_22).
        f759 :-> hasTheme(er_22,r_22).
        f760 :-> rexist(ea_22).
        f761 :-> rexist(eg_22).
        f762 :-> rexist(epr_22).
        f763 :-> rexist(er_22).
        f764 :-> licensee(x_23).
        f765 :-> licensor(y_23).
        f766 :-> product(p_23).
        f767 :-> result(r_23).
        f768 :-> licence(l_23).
        f769 :-> isLicenceOf(l_23,p_23).
        f770 :-> comment(c_23).
        f771 :-> approve(ea_23).
        f772 :-> hasAgent(ea_23,y_23).
        f773 :-> hasTheme(ea_23,epr_23).
        f774 :-> commission(ec_23).
        f775 :-> hasTheme(ec_23,ev_23).
        f776 :-> evaluate(ev_23).
        f777 :-> hasAgent(ev_23,x_23).
        f778 :-> hasTheme(ev_23,p_23).
        f779 :-> hasResult(ev_23,r_23).
        f780 :-> grant(eg_23).
        f781 :-> hasAgent(eg_23,y_23).
        f782 :-> hasReceiver(eg_23,x_23).
        f783 :-> hasTheme(eg_23,l_23).
        f784 :-> publish(epc_23).
        f785 :-> hasAgent(epc_23,x_23).
        f786 :-> hasTheme(epc_23,c_23).
        f787 :-> isCommentOf(c_23,ev_23).
        f788 :-> publish(epr_23).
        f789 :-> hasAgent(epr_23,x_23).
        f790 :-> hasTheme(epr_23,r_23).
        f791 :-> remove(er_23).
        f792 :-> hasAgent(er_23,x_23).
        f793 :-> hasTheme(er_23,r_23).
        f794 :-> rexist(ec_23).
        f795 :-> rexist(er_23).
        f796 :-> licensee(x_24).
        f797 :-> licensor(y_24).
        f798 :-> product(p_24).
        f799 :-> result(r_24).
        f800 :-> licence(l_24).
        f801 :-> isLicenceOf(l_24,p_24).
        f802 :-> comment(c_24).
        f803 :-> approve(ea_24).
        f804 :-> hasAgent(ea_24,y_24).
        f805 :-> hasTheme(ea_24,epr_24).
        f806 :-> commission(ec_24).
        f807 :-> hasTheme(ec_24,ev_24).
        f808 :-> evaluate(ev_24).
        f809 :-> hasAgent(ev_24,x_24).
        f810 :-> hasTheme(ev_24,p_24).
        f811 :-> hasResult(ev_24,r_24).
        f812 :-> grant(eg_24).
        f813 :-> hasAgent(eg_24,y_24).
        f814 :-> hasReceiver(eg_24,x_24).
        f815 :-> hasTheme(eg_24,l_24).
        f816 :-> publish(epc_24).
        f817 :-> hasAgent(epc_24,x_24).
        f818 :-> hasTheme(epc_24,c_24).
        f819 :-> isCommentOf(c_24,ev_24).
        f820 :-> publish(epr_24).
        f821 :-> hasAgent(epr_24,x_24).
        f822 :-> hasTheme(epr_24,r_24).
        f823 :-> remove(er_24).
        f824 :-> hasAgent(er_24,x_24).
        f825 :-> hasTheme(er_24,r_24).
        f826 :-> rexist(ea_24).
        f827 :-> rexist(epc_24).
        f828 :-> rexist(epr_24).
        f829 :-> licensee(x_25).
        f830 :-> licensor(y_25).
        f831 :-> product(p_25).
        f832 :-> result(r_25).
        f833 :-> licence(l_25).
        f834 :-> isLicenceOf(l_25,p_25).
        f835 :-> comment(c_25).
        f836 :-> approve(ea_25).
        f837 :-> hasAgent(ea_25,y_25).
        f838 :-> hasTheme(ea_25,epr_25).
        f839 :-> commission(ec_25).
        f840 :-> hasTheme(ec_25,ev_25).
        f841 :-> evaluate(ev_25).
        f842 :-> hasAgent(ev_25,x_25).
        f843 :-> hasTheme(ev_25,p_25).
        f844 :-> hasResult(ev_25,r_25).
        f845 :-> grant(eg_25).
        f846 :-> hasAgent(eg_25,y_25).
        f847 :-> hasReceiver(eg_25,x_25).
        f848 :-> hasTheme(eg_25,l_25).
        f849 :-> publish(epc_25).
        f850 :-> hasAgent(epc_25,x_25).
        f851 :-> hasTheme(epc_25,c_25).
        f852 :-> isCommentOf(c_25,ev_25).
        f853 :-> publish(epr_25).
        f854 :-> hasAgent(epr_25,x_25).
        f855 :-> hasTheme(epr_25,r_25).
        f856 :-> remove(er_25).
        f857 :-> hasAgent(er_25,x_25).
        f858 :-> hasTheme(er_25,r_25).
        f859 :-> rexist(epc_25).
        f860 :-> licensee(x_26).
        f861 :-> licensor(y_26).
        f862 :-> product(p_26).
        f863 :-> result(r_26).
        f864 :-> licence(l_26).
        f865 :-> isLicenceOf(l_26,p_26).
        f866 :-> comment(c_26).
        f867 :-> approve(ea_26).
        f868 :-> hasAgent(ea_26,y_26).
        f869 :-> hasTheme(ea_26,epr_26).
        f870 :-> commission(ec_26).
        f871 :-> hasTheme(ec_26,ev_26).
        f872 :-> evaluate(ev_26).
        f873 :-> hasAgent(ev_26,x_26).
        f874 :-> hasTheme(ev_26,p_26).
        f875 :-> hasResult(ev_26,r_26).
        f876 :-> grant(eg_26).
        f877 :-> hasAgent(eg_26,y_26).
        f878 :-> hasReceiver(eg_26,x_26).
        f879 :-> hasTheme(eg_26,l_26).
        f880 :-> publish(epc_26).
        f881 :-> hasAgent(epc_26,x_26).
        f882 :-> hasTheme(epc_26,c_26).
        f883 :-> isCommentOf(c_26,ev_26).
        f884 :-> publish(epr_26).
        f885 :-> hasAgent(epr_26,x_26).
        f886 :-> hasTheme(epr_26,r_26).
        f887 :-> remove(er_26).
        f888 :-> hasAgent(er_26,x_26).
        f889 :-> hasTheme(er_26,r_26).
        f890 :-> rexist(ea_26).
        f891 :-> rexist(ec_26).
        f892 :-> rexist(ev_26).
        f893 :-> rexist(eg_26).
        f894 :-> rexist(epc_26).
        f895 :-> licensee(x_27).
        f896 :-> licensor(y_27).
        f897 :-> product(p_27).
        f898 :-> result(r_27).
        f899 :-> licence(l_27).
        f900 :-> isLicenceOf(l_27,p_27).
        f901 :-> comment(c_27).
        f902 :-> approve(ea_27).
        f903 :-> hasAgent(ea_27,y_27).
        f904 :-> hasTheme(ea_27,epr_27).
        f905 :-> commission(ec_27).
        f906 :-> hasTheme(ec_27,ev_27).
        f907 :-> evaluate(ev_27).
        f908 :-> hasAgent(ev_27,x_27).
        f909 :-> hasTheme(ev_27,p_27).
        f910 :-> hasResult(ev_27,r_27).
        f911 :-> grant(eg_27).
        f912 :-> hasAgent(eg_27,y_27).
        f913 :-> hasReceiver(eg_27,x_27).
        f914 :-> hasTheme(eg_27,l_27).
        f915 :-> publish(epc_27).
        f916 :-> hasAgent(epc_27,x_27).
        f917 :-> hasTheme(epc_27,c_27).
        f918 :-> isCommentOf(c_27,ev_27).
        f919 :-> publish(epr_27).
        f920 :-> hasAgent(epr_27,x_27).
        f921 :-> hasTheme(epr_27,r_27).
        f922 :-> remove(er_27).
        f923 :-> hasAgent(er_27,x_27).
        f924 :-> hasTheme(er_27,r_27).
        f925 :-> rexist(ea_27).
        f926 :-> rexist(ec_27).
        f927 :-> rexist(ev_27).
        f928 :-> rexist(eg_27).
        f929 :-> rexist(epc_27).
        f930 :-> rexist(epr_27).
        f931 :-> rexist(er_27).
        f932 :-> licensee(x_28).
        f933 :-> licensor(y_28).
        f934 :-> product(p_28).
        f935 :-> result(r_28).
        f936 :-> licence(l_28).
        f937 :-> isLicenceOf(l_28,p_28).
        f938 :-> comment(c_28).
        f939 :-> approve(ea_28).
        f940 :-> hasAgent(ea_28,y_28).
        f941 :-> hasTheme(ea_28,epr_28).
        f942 :-> commission(ec_28).
        f943 :-> hasTheme(ec_28,ev_28).
        f944 :-> evaluate(ev_28).
        f945 :-> hasAgent(ev_28,x_28).
        f946 :-> hasTheme(ev_28,p_28).
        f947 :-> hasResult(ev_28,r_28).
        f948 :-> grant(eg_28).
        f949 :-> hasAgent(eg_28,y_28).
        f950 :-> hasReceiver(eg_28,x_28).
        f951 :-> hasTheme(eg_28,l_28).
        f952 :-> publish(epc_28).
        f953 :-> hasAgent(epc_28,x_28).
        f954 :-> hasTheme(epc_28,c_28).
        f955 :-> isCommentOf(c_28,ev_28).
        f956 :-> publish(epr_28).
        f957 :-> hasAgent(epr_28,x_28).
        f958 :-> hasTheme(epr_28,r_28).
        f959 :-> remove(er_28).
        f960 :-> hasAgent(er_28,x_28).
        f961 :-> hasTheme(er_28,r_28).
        f962 :-> rexist(ea_28).
        f963 :-> rexist(ec_28).
        f964 :-> rexist(ev_28).
        f965 :-> rexist(eg_28).
        f966 :-> rexist(epc_28).
        f967 :-> rexist(epr_28).
        f968 :-> rexist(er_28).
        f969 :-> licensee(x_29).
        f970 :-> licensor(y_29).
        f971 :-> product(p_29).
        f972 :-> result(r_29).
        f973 :-> licence(l_29).
        f974 :-> isLicenceOf(l_29,p_29).
        f975 :-> comment(c_29).
        f976 :-> approve(ea_29).
        f977 :-> hasAgent(ea_29,y_29).
        f978 :-> hasTheme(ea_29,epr_29).
        f979 :-> commission(ec_29).
        f980 :-> hasTheme(ec_29,ev_29).
        f981 :-> evaluate(ev_29).
        f982 :-> hasAgent(ev_29,x_29).
        f983 :-> hasTheme(ev_29,p_29).
        f984 :-> hasResult(ev_29,r_29).
        f985 :-> grant(eg_29).
        f986 :-> hasAgent(eg_29,y_29).
        f987 :-> hasReceiver(eg_29,x_29).
        f988 :-> hasTheme(eg_29,l_29).
        f989 :-> publish(epc_29).
        f990 :-> hasAgent(epc_29,x_29).
        f991 :-> hasTheme(epc_29,c_29).
        f992 :-> isCommentOf(c_29,ev_29).
        f993 :-> publish(epr_29).
        f994 :-> hasAgent(epr_29,x_29).
        f995 :-> hasTheme(epr_29,r_29).
        f996 :-> remove(er_29).
        f997 :-> hasAgent(er_29,x_29).
        f998 :-> hasTheme(er_29,r_29).
        f999 :-> rexist(epc_29).
        f1000 :-> rexist(epr_29).
        f1001 :-> licensee(x_30).
        f1002 :-> licensor(y_30).
        f1003 :-> product(p_30).
        f1004 :-> result(r_30).
        f1005 :-> licence(l_30).
        f1006 :-> isLicenceOf(l_30,p_30).
        f1007 :-> comment(c_30).
        f1008 :-> approve(ea_30).
        f1009 :-> hasAgent(ea_30,y_30).
        f1010 :-> hasTheme(ea_30,epr_30).
        f1011 :-> commission(ec_30).
        f1012 :-> hasTheme(ec_30,ev_30).
        f1013 :-> evaluate(ev_30).
        f1014 :-> hasAgent(ev_30,x_30).
        f1015 :-> hasTheme(ev_30,p_30).
        f1016 :-> hasResult(ev_30,r_30).
        f1017 :-> grant(eg_30).
        f1018 :-> hasAgent(eg_30,y_30).
        f1019 :-> hasReceiver(eg_30,x_30).
        f1020 :-> hasTheme(eg_30,l_30).
        f1021 :-> publish(epc_30).
        f1022 :-> hasAgent(epc_30,x_30).
        f1023 :-> hasTheme(epc_30,c_30).
        f1024 :-> isCommentOf(c_30,ev_30).
        f1025 :-> publish(epr_30).
        f1026 :-> hasAgent(epr_30,x_30).
        f1027 :-> hasTheme(epr_30,r_30).
        f1028 :-> remove(er_30).
        f1029 :-> hasAgent(er_30,x_30).
        f1030 :-> hasTheme(er_30,r_30).
        f1031 :-> rexist(ea_30).
        f1032 :-> rexist(ev_30).
        f1033 :-> rexist(epr_30).
        f1034 :-> licensee(x_31).
        f1035 :-> licensor(y_31).
        f1036 :-> product(p_31).
        f1037 :-> result(r_31).
        f1038 :-> licence(l_31).
        f1039 :-> isLicenceOf(l_31,p_31).
        f1040 :-> comment(c_31).
        f1041 :-> approve(ea_31).
        f1042 :-> hasAgent(ea_31,y_31).
        f1043 :-> hasTheme(ea_31,epr_31).
        f1044 :-> commission(ec_31).
        f1045 :-> hasTheme(ec_31,ev_31).
        f1046 :-> evaluate(ev_31).
        f1047 :-> hasAgent(ev_31,x_31).
        f1048 :-> hasTheme(ev_31,p_31).
        f1049 :-> hasResult(ev_31,r_31).
        f1050 :-> grant(eg_31).
        f1051 :-> hasAgent(eg_31,y_31).
        f1052 :-> hasReceiver(eg_31,x_31).
        f1053 :-> hasTheme(eg_31,l_31).
        f1054 :-> publish(epc_31).
        f1055 :-> hasAgent(epc_31,x_31).
        f1056 :-> hasTheme(epc_31,c_31).
        f1057 :-> isCommentOf(c_31,ev_31).
        f1058 :-> publish(epr_31).
        f1059 :-> hasAgent(epr_31,x_31).
        f1060 :-> hasTheme(epr_31,r_31).
        f1061 :-> remove(er_31).
        f1062 :-> hasAgent(er_31,x_31).
        f1063 :-> hasTheme(er_31,r_31).
        f1064 :-> rexist(ea_31).
        f1065 :-> rexist(ev_31).
        f1066 :-> rexist(eg_31).
        f1067 :-> rexist(er_31).
        f1068 :-> licensee(x_32).
        f1069 :-> licensor(y_32).
        f1070 :-> product(p_32).
        f1071 :-> result(r_32).
        f1072 :-> licence(l_32).
        f1073 :-> isLicenceOf(l_32,p_32).
        f1074 :-> comment(c_32).
        f1075 :-> approve(ea_32).
        f1076 :-> hasAgent(ea_32,y_32).
        f1077 :-> hasTheme(ea_32,epr_32).
        f1078 :-> commission(ec_32).
        f1079 :-> hasTheme(ec_32,ev_32).
        f1080 :-> evaluate(ev_32).
        f1081 :-> hasAgent(ev_32,x_32).
        f1082 :-> hasTheme(ev_32,p_32).
        f1083 :-> hasResult(ev_32,r_32).
        f1084 :-> grant(eg_32).
        f1085 :-> hasAgent(eg_32,y_32).
        f1086 :-> hasReceiver(eg_32,x_32).
        f1087 :-> hasTheme(eg_32,l_32).
        f1088 :-> publish(epc_32).
        f1089 :-> hasAgent(epc_32,x_32).
        f1090 :-> hasTheme(epc_32,c_32).
        f1091 :-> isCommentOf(c_32,ev_32).
        f1092 :-> publish(epr_32).
        f1093 :-> hasAgent(epr_32,x_32).
        f1094 :-> hasTheme(epr_32,r_32).
        f1095 :-> remove(er_32).
        f1096 :-> hasAgent(er_32,x_32).
        f1097 :-> hasTheme(er_32,r_32).
        f1098 :-> rexist(ea_32).
        f1099 :-> rexist(ec_32).
        f1100 :-> rexist(ev_32).
        f1101 :-> rexist(epr_32).
        f1102 :-> licensee(x_33).
        f1103 :-> licensor(y_33).
        f1104 :-> product(p_33).
        f1105 :-> result(r_33).
        f1106 :-> licence(l_33).
        f1107 :-> isLicenceOf(l_33,p_33).
        f1108 :-> comment(c_33).
        f1109 :-> approve(ea_33).
        f1110 :-> hasAgent(ea_33,y_33).
        f1111 :-> hasTheme(ea_33,epr_33).
        f1112 :-> commission(ec_33).
        f1113 :-> hasTheme(ec_33,ev_33).
        f1114 :-> evaluate(ev_33).
        f1115 :-> hasAgent(ev_33,x_33).
        f1116 :-> hasTheme(ev_33,p_33).
        f1117 :-> hasResult(ev_33,r_33).
        f1118 :-> grant(eg_33).
        f1119 :-> hasAgent(eg_33,y_33).
        f1120 :-> hasReceiver(eg_33,x_33).
        f1121 :-> hasTheme(eg_33,l_33).
        f1122 :-> publish(epc_33).
        f1123 :-> hasAgent(epc_33,x_33).
        f1124 :-> hasTheme(epc_33,c_33).
        f1125 :-> isCommentOf(c_33,ev_33).
        f1126 :-> publish(epr_33).
        f1127 :-> hasAgent(epr_33,x_33).
        f1128 :-> hasTheme(epr_33,r_33).
        f1129 :-> remove(er_33).
        f1130 :-> hasAgent(er_33,x_33).
        f1131 :-> hasTheme(er_33,r_33).
        f1132 :-> rexist(ea_33).
        f1133 :-> rexist(ec_33).
        f1134 :-> rexist(eg_33).
        f1135 :-> rexist(er_33).
        f1136 :-> licensee(x_34).
        f1137 :-> licensor(y_34).
        f1138 :-> product(p_34).
        f1139 :-> result(r_34).
        f1140 :-> licence(l_34).
        f1141 :-> isLicenceOf(l_34,p_34).
        f1142 :-> comment(c_34).
        f1143 :-> approve(ea_34).
        f1144 :-> hasAgent(ea_34,y_34).
        f1145 :-> hasTheme(ea_34,epr_34).
        f1146 :-> commission(ec_34).
        f1147 :-> hasTheme(ec_34,ev_34).
        f1148 :-> evaluate(ev_34).
        f1149 :-> hasAgent(ev_34,x_34).
        f1150 :-> hasTheme(ev_34,p_34).
        f1151 :-> hasResult(ev_34,r_34).
        f1152 :-> grant(eg_34).
        f1153 :-> hasAgent(eg_34,y_34).
        f1154 :-> hasReceiver(eg_34,x_34).
        f1155 :-> hasTheme(eg_34,l_34).
        f1156 :-> publish(epc_34).
        f1157 :-> hasAgent(epc_34,x_34).
        f1158 :-> hasTheme(epc_34,c_34).
        f1159 :-> isCommentOf(c_34,ev_34).
        f1160 :-> publish(epr_34).
        f1161 :-> hasAgent(epr_34,x_34).
        f1162 :-> hasTheme(epr_34,r_34).
        f1163 :-> remove(er_34).
        f1164 :-> hasAgent(er_34,x_34).
        f1165 :-> hasTheme(er_34,r_34).
        f1166 :-> rexist(ev_34).
        f1167 :-> rexist(eg_34).
        f1168 :-> rexist(epc_34).
        f1169 :-> rexist(epr_34).
        f1170 :-> licensee(x_35).
        f1171 :-> licensor(y_35).
        f1172 :-> product(p_35).
        f1173 :-> result(r_35).
        f1174 :-> licence(l_35).
        f1175 :-> isLicenceOf(l_35,p_35).
        f1176 :-> comment(c_35).
        f1177 :-> approve(ea_35).
        f1178 :-> hasAgent(ea_35,y_35).
        f1179 :-> hasTheme(ea_35,epr_35).
        f1180 :-> commission(ec_35).
        f1181 :-> hasTheme(ec_35,ev_35).
        f1182 :-> evaluate(ev_35).
        f1183 :-> hasAgent(ev_35,x_35).
        f1184 :-> hasTheme(ev_35,p_35).
        f1185 :-> hasResult(ev_35,r_35).
        f1186 :-> grant(eg_35).
        f1187 :-> hasAgent(eg_35,y_35).
        f1188 :-> hasReceiver(eg_35,x_35).
        f1189 :-> hasTheme(eg_35,l_35).
        f1190 :-> publish(epc_35).
        f1191 :-> hasAgent(epc_35,x_35).
        f1192 :-> hasTheme(epc_35,c_35).
        f1193 :-> isCommentOf(c_35,ev_35).
        f1194 :-> publish(epr_35).
        f1195 :-> hasAgent(epr_35,x_35).
        f1196 :-> hasTheme(epr_35,r_35).
        f1197 :-> remove(er_35).
        f1198 :-> hasAgent(er_35,x_35).
        f1199 :-> hasTheme(er_35,r_35).
        f1200 :-> rexist(ea_35).
        f1201 :-> rexist(ev_35).
        f1202 :-> rexist(er_35).
        f1203 :-> licensee(x_36).
        f1204 :-> licensor(y_36).
        f1205 :-> product(p_36).
        f1206 :-> result(r_36).
        f1207 :-> licence(l_36).
        f1208 :-> isLicenceOf(l_36,p_36).
        f1209 :-> comment(c_36).
        f1210 :-> approve(ea_36).
        f1211 :-> hasAgent(ea_36,y_36).
        f1212 :-> hasTheme(ea_36,epr_36).
        f1213 :-> commission(ec_36).
        f1214 :-> hasTheme(ec_36,ev_36).
        f1215 :-> evaluate(ev_36).
        f1216 :-> hasAgent(ev_36,x_36).
        f1217 :-> hasTheme(ev_36,p_36).
        f1218 :-> hasResult(ev_36,r_36).
        f1219 :-> grant(eg_36).
        f1220 :-> hasAgent(eg_36,y_36).
        f1221 :-> hasReceiver(eg_36,x_36).
        f1222 :-> hasTheme(eg_36,l_36).
        f1223 :-> publish(epc_36).
        f1224 :-> hasAgent(epc_36,x_36).
        f1225 :-> hasTheme(epc_36,c_36).
        f1226 :-> isCommentOf(c_36,ev_36).
        f1227 :-> publish(epr_36).
        f1228 :-> hasAgent(epr_36,x_36).
        f1229 :-> hasTheme(epr_36,r_36).
        f1230 :-> remove(er_36).
        f1231 :-> hasAgent(er_36,x_36).
        f1232 :-> hasTheme(er_36,r_36).
        f1233 :-> rexist(ev_36).
        f1234 :-> licensee(x_37).
        f1235 :-> licensor(y_37).
        f1236 :-> product(p_37).
        f1237 :-> result(r_37).
        f1238 :-> licence(l_37).
        f1239 :-> isLicenceOf(l_37,p_37).
        f1240 :-> comment(c_37).
        f1241 :-> approve(ea_37).
        f1242 :-> hasAgent(ea_37,y_37).
        f1243 :-> hasTheme(ea_37,epr_37).
        f1244 :-> commission(ec_37).
        f1245 :-> hasTheme(ec_37,ev_37).
        f1246 :-> evaluate(ev_37).
        f1247 :-> hasAgent(ev_37,x_37).
        f1248 :-> hasTheme(ev_37,p_37).
        f1249 :-> hasResult(ev_37,r_37).
        f1250 :-> grant(eg_37).
        f1251 :-> hasAgent(eg_37,y_37).
        f1252 :-> hasReceiver(eg_37,x_37).
        f1253 :-> hasTheme(eg_37,l_37).
        f1254 :-> publish(epc_37).
        f1255 :-> hasAgent(epc_37,x_37).
        f1256 :-> hasTheme(epc_37,c_37).
        f1257 :-> isCommentOf(c_37,ev_37).
        f1258 :-> publish(epr_37).
        f1259 :-> hasAgent(epr_37,x_37).
        f1260 :-> hasTheme(epr_37,r_37).
        f1261 :-> remove(er_37).
        f1262 :-> hasAgent(er_37,x_37).
        f1263 :-> hasTheme(er_37,r_37).
        f1264 :-> rexist(ec_37).
        f1265 :-> rexist(eg_37).
        f1266 :-> rexist(epc_37).
        f1267 :-> rexist(epr_37).
        f1268 :-> rexist(er_37).
        f1269 :-> licensee(x_38).
        f1270 :-> licensor(y_38).
        f1271 :-> product(p_38).
        f1272 :-> result(r_38).
        f1273 :-> licence(l_38).
        f1274 :-> isLicenceOf(l_38,p_38).
        f1275 :-> comment(c_38).
        f1276 :-> approve(ea_38).
        f1277 :-> hasAgent(ea_38,y_38).
        f1278 :-> hasTheme(ea_38,epr_38).
        f1279 :-> commission(ec_38).
        f1280 :-> hasTheme(ec_38,ev_38).
        f1281 :-> evaluate(ev_38).
        f1282 :-> hasAgent(ev_38,x_38).
        f1283 :-> hasTheme(ev_38,p_38).
        f1284 :-> hasResult(ev_38,r_38).
        f1285 :-> grant(eg_38).
        f1286 :-> hasAgent(eg_38,y_38).
        f1287 :-> hasReceiver(eg_38,x_38).
        f1288 :-> hasTheme(eg_38,l_38).
        f1289 :-> publish(epc_38).
        f1290 :-> hasAgent(epc_38,x_38).
        f1291 :-> hasTheme(epc_38,c_38).
        f1292 :-> isCommentOf(c_38,ev_38).
        f1293 :-> publish(epr_38).
        f1294 :-> hasAgent(epr_38,x_38).
        f1295 :-> hasTheme(epr_38,r_38).
        f1296 :-> remove(er_38).
        f1297 :-> hasAgent(er_38,x_38).
        f1298 :-> hasTheme(er_38,r_38).
        f1299 :-> rexist(ec_38).
        f1300 :-> rexist(ev_38).
        f1301 :-> rexist(eg_38).
        f1302 :-> rexist(epr_38).
        f1303 :-> rexist(er_38).
        f1304 :-> licensee(x_39).
        f1305 :-> licensor(y_39).
        f1306 :-> product(p_39).
        f1307 :-> result(r_39).
        f1308 :-> licence(l_39).
        f1309 :-> isLicenceOf(l_39,p_39).
        f1310 :-> comment(c_39).
        f1311 :-> approve(ea_39).
        f1312 :-> hasAgent(ea_39,y_39).
        f1313 :-> hasTheme(ea_39,epr_39).
        f1314 :-> commission(ec_39).
        f1315 :-> hasTheme(ec_39,ev_39).
        f1316 :-> evaluate(ev_39).
        f1317 :-> hasAgent(ev_39,x_39).
        f1318 :-> hasTheme(ev_39,p_39).
        f1319 :-> hasResult(ev_39,r_39).
        f1320 :-> grant(eg_39).
        f1321 :-> hasAgent(eg_39,y_39).
        f1322 :-> hasReceiver(eg_39,x_39).
        f1323 :-> hasTheme(eg_39,l_39).
        f1324 :-> publish(epc_39).
        f1325 :-> hasAgent(epc_39,x_39).
        f1326 :-> hasTheme(epc_39,c_39).
        f1327 :-> isCommentOf(c_39,ev_39).
        f1328 :-> publish(epr_39).
        f1329 :-> hasAgent(epr_39,x_39).
        f1330 :-> hasTheme(epr_39,r_39).
        f1331 :-> remove(er_39).
        f1332 :-> hasAgent(er_39,x_39).
        f1333 :-> hasTheme(er_39,r_39).
        f1334 :-> rexist(ea_39).
        f1335 :-> rexist(ec_39).
        f1336 :-> rexist(ev_39).
        f1337 :-> rexist(eg_39).
        f1338 :-> rexist(epc_39).
        f1339 :-> rexist(er_39).
        f1340 :-> licensee(x_40).
        f1341 :-> licensor(y_40).
        f1342 :-> product(p_40).
        f1343 :-> result(r_40).
        f1344 :-> licence(l_40).
        f1345 :-> isLicenceOf(l_40,p_40).
        f1346 :-> comment(c_40).
        f1347 :-> approve(ea_40).
        f1348 :-> hasAgent(ea_40,y_40).
        f1349 :-> hasTheme(ea_40,epr_40).
        f1350 :-> commission(ec_40).
        f1351 :-> hasTheme(ec_40,ev_40).
        f1352 :-> evaluate(ev_40).
        f1353 :-> hasAgent(ev_40,x_40).
        f1354 :-> hasTheme(ev_40,p_40).
        f1355 :-> hasResult(ev_40,r_40).
        f1356 :-> grant(eg_40).
        f1357 :-> hasAgent(eg_40,y_40).
        f1358 :-> hasReceiver(eg_40,x_40).
        f1359 :-> hasTheme(eg_40,l_40).
        f1360 :-> publish(epc_40).
        f1361 :-> hasAgent(epc_40,x_40).
        f1362 :-> hasTheme(epc_40,c_40).
        f1363 :-> isCommentOf(c_40,ev_40).
        f1364 :-> publish(epr_40).
        f1365 :-> hasAgent(epr_40,x_40).
        f1366 :-> hasTheme(epr_40,r_40).
        f1367 :-> remove(er_40).
        f1368 :-> hasAgent(er_40,x_40).
        f1369 :-> hasTheme(er_40,r_40).
        f1370 :-> rexist(eg_40).
        f1371 :-> rexist(epc_40).
        f1372 :-> rexist(epr_40).
        f1373 :-> licensee(x_41).
        f1374 :-> licensor(y_41).
        f1375 :-> product(p_41).
        f1376 :-> result(r_41).
        f1377 :-> licence(l_41).
        f1378 :-> isLicenceOf(l_41,p_41).
        f1379 :-> comment(c_41).
        f1380 :-> approve(ea_41).
        f1381 :-> hasAgent(ea_41,y_41).
        f1382 :-> hasTheme(ea_41,epr_41).
        f1383 :-> commission(ec_41).
        f1384 :-> hasTheme(ec_41,ev_41).
        f1385 :-> evaluate(ev_41).
        f1386 :-> hasAgent(ev_41,x_41).
        f1387 :-> hasTheme(ev_41,p_41).
        f1388 :-> hasResult(ev_41,r_41).
        f1389 :-> grant(eg_41).
        f1390 :-> hasAgent(eg_41,y_41).
        f1391 :-> hasReceiver(eg_41,x_41).
        f1392 :-> hasTheme(eg_41,l_41).
        f1393 :-> publish(epc_41).
        f1394 :-> hasAgent(epc_41,x_41).
        f1395 :-> hasTheme(epc_41,c_41).
        f1396 :-> isCommentOf(c_41,ev_41).
        f1397 :-> publish(epr_41).
        f1398 :-> hasAgent(epr_41,x_41).
        f1399 :-> hasTheme(epr_41,r_41).
        f1400 :-> remove(er_41).
        f1401 :-> hasAgent(er_41,x_41).
        f1402 :-> hasTheme(er_41,r_41).
        f1403 :-> rexist(ea_41).
        f1404 :-> rexist(ec_41).
        f1405 :-> rexist(eg_41).
        f1406 :-> rexist(epc_41).
        f1407 :-> rexist(epr_41).
        f1408 :-> licensee(x_42).
        f1409 :-> licensor(y_42).
        f1410 :-> product(p_42).
        f1411 :-> result(r_42).
        f1412 :-> licence(l_42).
        f1413 :-> isLicenceOf(l_42,p_42).
        f1414 :-> comment(c_42).
        f1415 :-> approve(ea_42).
        f1416 :-> hasAgent(ea_42,y_42).
        f1417 :-> hasTheme(ea_42,epr_42).
        f1418 :-> commission(ec_42).
        f1419 :-> hasTheme(ec_42,ev_42).
        f1420 :-> evaluate(ev_42).
        f1421 :-> hasAgent(ev_42,x_42).
        f1422 :-> hasTheme(ev_42,p_42).
        f1423 :-> hasResult(ev_42,r_42).
        f1424 :-> grant(eg_42).
        f1425 :-> hasAgent(eg_42,y_42).
        f1426 :-> hasReceiver(eg_42,x_42).
        f1427 :-> hasTheme(eg_42,l_42).
        f1428 :-> publish(epc_42).
        f1429 :-> hasAgent(epc_42,x_42).
        f1430 :-> hasTheme(epc_42,c_42).
        f1431 :-> isCommentOf(c_42,ev_42).
        f1432 :-> publish(epr_42).
        f1433 :-> hasAgent(epr_42,x_42).
        f1434 :-> hasTheme(epr_42,r_42).
        f1435 :-> remove(er_42).
        f1436 :-> hasAgent(er_42,x_42).
        f1437 :-> hasTheme(er_42,r_42).
        f1438 :-> rexist(ec_42).
        f1439 :-> rexist(er_42).
        f1440 :-> licensee(x_43).
        f1441 :-> licensor(y_43).
        f1442 :-> product(p_43).
        f1443 :-> result(r_43).
        f1444 :-> licence(l_43).
        f1445 :-> isLicenceOf(l_43,p_43).
        f1446 :-> comment(c_43).
        f1447 :-> approve(ea_43).
        f1448 :-> hasAgent(ea_43,y_43).
        f1449 :-> hasTheme(ea_43,epr_43).
        f1450 :-> commission(ec_43).
        f1451 :-> hasTheme(ec_43,ev_43).
        f1452 :-> evaluate(ev_43).
        f1453 :-> hasAgent(ev_43,x_43).
        f1454 :-> hasTheme(ev_43,p_43).
        f1455 :-> hasResult(ev_43,r_43).
        f1456 :-> grant(eg_43).
        f1457 :-> hasAgent(eg_43,y_43).
        f1458 :-> hasReceiver(eg_43,x_43).
        f1459 :-> hasTheme(eg_43,l_43).
        f1460 :-> publish(epc_43).
        f1461 :-> hasAgent(epc_43,x_43).
        f1462 :-> hasTheme(epc_43,c_43).
        f1463 :-> isCommentOf(c_43,ev_43).
        f1464 :-> publish(epr_43).
        f1465 :-> hasAgent(epr_43,x_43).
        f1466 :-> hasTheme(epr_43,r_43).
        f1467 :-> remove(er_43).
        f1468 :-> hasAgent(er_43,x_43).
        f1469 :-> hasTheme(er_43,r_43).
        f1470 :-> rexist(ea_43).
        f1471 :-> rexist(ev_43).
        f1472 :-> rexist(eg_43).
        f1473 :-> rexist(epr_43).
        f1474 :-> licensee(x_44).
        f1475 :-> licensor(y_44).
        f1476 :-> product(p_44).
        f1477 :-> result(r_44).
        f1478 :-> licence(l_44).
        f1479 :-> isLicenceOf(l_44,p_44).
        f1480 :-> comment(c_44).
        f1481 :-> approve(ea_44).
        f1482 :-> hasAgent(ea_44,y_44).
        f1483 :-> hasTheme(ea_44,epr_44).
        f1484 :-> commission(ec_44).
        f1485 :-> hasTheme(ec_44,ev_44).
        f1486 :-> evaluate(ev_44).
        f1487 :-> hasAgent(ev_44,x_44).
        f1488 :-> hasTheme(ev_44,p_44).
        f1489 :-> hasResult(ev_44,r_44).
        f1490 :-> grant(eg_44).
        f1491 :-> hasAgent(eg_44,y_44).
        f1492 :-> hasReceiver(eg_44,x_44).
        f1493 :-> hasTheme(eg_44,l_44).
        f1494 :-> publish(epc_44).
        f1495 :-> hasAgent(epc_44,x_44).
        f1496 :-> hasTheme(epc_44,c_44).
        f1497 :-> isCommentOf(c_44,ev_44).
        f1498 :-> publish(epr_44).
        f1499 :-> hasAgent(epr_44,x_44).
        f1500 :-> hasTheme(epr_44,r_44).
        f1501 :-> remove(er_44).
        f1502 :-> hasAgent(er_44,x_44).
        f1503 :-> hasTheme(er_44,r_44).
        f1504 :-> rexist(ea_44).
        f1505 :-> rexist(ec_44).
        f1506 :-> rexist(eg_44).
        f1507 :-> rexist(epc_44).
        f1508 :-> rexist(er_44).
        f1509 :-> licensee(x_45).
        f1510 :-> licensor(y_45).
        f1511 :-> product(p_45).
        f1512 :-> result(r_45).
        f1513 :-> licence(l_45).
        f1514 :-> isLicenceOf(l_45,p_45).
        f1515 :-> comment(c_45).
        f1516 :-> approve(ea_45).
        f1517 :-> hasAgent(ea_45,y_45).
        f1518 :-> hasTheme(ea_45,epr_45).
        f1519 :-> commission(ec_45).
        f1520 :-> hasTheme(ec_45,ev_45).
        f1521 :-> evaluate(ev_45).
        f1522 :-> hasAgent(ev_45,x_45).
        f1523 :-> hasTheme(ev_45,p_45).
        f1524 :-> hasResult(ev_45,r_45).
        f1525 :-> grant(eg_45).
        f1526 :-> hasAgent(eg_45,y_45).
        f1527 :-> hasReceiver(eg_45,x_45).
        f1528 :-> hasTheme(eg_45,l_45).
        f1529 :-> publish(epc_45).
        f1530 :-> hasAgent(epc_45,x_45).
        f1531 :-> hasTheme(epc_45,c_45).
        f1532 :-> isCommentOf(c_45,ev_45).
        f1533 :-> publish(epr_45).
        f1534 :-> hasAgent(epr_45,x_45).
        f1535 :-> hasTheme(epr_45,r_45).
        f1536 :-> remove(er_45).
        f1537 :-> hasAgent(er_45,x_45).
        f1538 :-> hasTheme(er_45,r_45).
        f1539 :-> rexist(ea_45).
        f1540 :-> rexist(ec_45).
        f1541 :-> rexist(eg_45).
        f1542 :-> rexist(epc_45).
        f1543 :-> rexist(epr_45).
        f1544 :-> licensee(x_46).
        f1545 :-> licensor(y_46).
        f1546 :-> product(p_46).
        f1547 :-> result(r_46).
        f1548 :-> licence(l_46).
        f1549 :-> isLicenceOf(l_46,p_46).
        f1550 :-> comment(c_46).
        f1551 :-> approve(ea_46).
        f1552 :-> hasAgent(ea_46,y_46).
        f1553 :-> hasTheme(ea_46,epr_46).
        f1554 :-> commission(ec_46).
        f1555 :-> hasTheme(ec_46,ev_46).
        f1556 :-> evaluate(ev_46).
        f1557 :-> hasAgent(ev_46,x_46).
        f1558 :-> hasTheme(ev_46,p_46).
        f1559 :-> hasResult(ev_46,r_46).
        f1560 :-> grant(eg_46).
        f1561 :-> hasAgent(eg_46,y_46).
        f1562 :-> hasReceiver(eg_46,x_46).
        f1563 :-> hasTheme(eg_46,l_46).
        f1564 :-> publish(epc_46).
        f1565 :-> hasAgent(epc_46,x_46).
        f1566 :-> hasTheme(epc_46,c_46).
        f1567 :-> isCommentOf(c_46,ev_46).
        f1568 :-> publish(epr_46).
        f1569 :-> hasAgent(epr_46,x_46).
        f1570 :-> hasTheme(epr_46,r_46).
        f1571 :-> remove(er_46).
        f1572 :-> hasAgent(er_46,x_46).
        f1573 :-> hasTheme(er_46,r_46).
        f1574 :-> rexist(eg_46).
        f1575 :-> licensee(x_47).
        f1576 :-> licensor(y_47).
        f1577 :-> product(p_47).
        f1578 :-> result(r_47).
        f1579 :-> licence(l_47).
        f1580 :-> isLicenceOf(l_47,p_47).
        f1581 :-> comment(c_47).
        f1582 :-> approve(ea_47).
        f1583 :-> hasAgent(ea_47,y_47).
        f1584 :-> hasTheme(ea_47,epr_47).
        f1585 :-> commission(ec_47).
        f1586 :-> hasTheme(ec_47,ev_47).
        f1587 :-> evaluate(ev_47).
        f1588 :-> hasAgent(ev_47,x_47).
        f1589 :-> hasTheme(ev_47,p_47).
        f1590 :-> hasResult(ev_47,r_47).
        f1591 :-> grant(eg_47).
        f1592 :-> hasAgent(eg_47,y_47).
        f1593 :-> hasReceiver(eg_47,x_47).
        f1594 :-> hasTheme(eg_47,l_47).
        f1595 :-> publish(epc_47).
        f1596 :-> hasAgent(epc_47,x_47).
        f1597 :-> hasTheme(epc_47,c_47).
        f1598 :-> isCommentOf(c_47,ev_47).
        f1599 :-> publish(epr_47).
        f1600 :-> hasAgent(epr_47,x_47).
        f1601 :-> hasTheme(epr_47,r_47).
        f1602 :-> remove(er_47).
        f1603 :-> hasAgent(er_47,x_47).
        f1604 :-> hasTheme(er_47,r_47).
        f1605 :-> rexist(ea_47).
        f1606 :-> rexist(ec_47).
        f1607 :-> rexist(ev_47).
        f1608 :-> rexist(eg_47).
        f1609 :-> rexist(epc_47).
        f1610 :-> licensee(x_48).
        f1611 :-> licensor(y_48).
        f1612 :-> product(p_48).
        f1613 :-> result(r_48).
        f1614 :-> licence(l_48).
        f1615 :-> isLicenceOf(l_48,p_48).
        f1616 :-> comment(c_48).
        f1617 :-> approve(ea_48).
        f1618 :-> hasAgent(ea_48,y_48).
        f1619 :-> hasTheme(ea_48,epr_48).
        f1620 :-> commission(ec_48).
        f1621 :-> hasTheme(ec_48,ev_48).
        f1622 :-> evaluate(ev_48).
        f1623 :-> hasAgent(ev_48,x_48).
        f1624 :-> hasTheme(ev_48,p_48).
        f1625 :-> hasResult(ev_48,r_48).
        f1626 :-> grant(eg_48).
        f1627 :-> hasAgent(eg_48,y_48).
        f1628 :-> hasReceiver(eg_48,x_48).
        f1629 :-> hasTheme(eg_48,l_48).
        f1630 :-> publish(epc_48).
        f1631 :-> hasAgent(epc_48,x_48).
        f1632 :-> hasTheme(epc_48,c_48).
        f1633 :-> isCommentOf(c_48,ev_48).
        f1634 :-> publish(epr_48).
        f1635 :-> hasAgent(epr_48,x_48).
        f1636 :-> hasTheme(epr_48,r_48).
        f1637 :-> remove(er_48).
        f1638 :-> hasAgent(er_48,x_48).
        f1639 :-> hasTheme(er_48,r_48).
        f1640 :-> rexist(ea_48).
        f1641 :-> rexist(ec_48).
        f1642 :-> rexist(eg_48).
        f1643 :-> rexist(epc_48).
        f1644 :-> rexist(epr_48).
        f1645 :-> rexist(er_48).
        f1646 :-> licensee(x_49).
        f1647 :-> licensor(y_49).
        f1648 :-> product(p_49).
        f1649 :-> result(r_49).
        f1650 :-> licence(l_49).
        f1651 :-> isLicenceOf(l_49,p_49).
        f1652 :-> comment(c_49).
        f1653 :-> approve(ea_49).
        f1654 :-> hasAgent(ea_49,y_49).
        f1655 :-> hasTheme(ea_49,epr_49).
        f1656 :-> commission(ec_49).
        f1657 :-> hasTheme(ec_49,ev_49).
        f1658 :-> evaluate(ev_49).
        f1659 :-> hasAgent(ev_49,x_49).
        f1660 :-> hasTheme(ev_49,p_49).
        f1661 :-> hasResult(ev_49,r_49).
        f1662 :-> grant(eg_49).
        f1663 :-> hasAgent(eg_49,y_49).
        f1664 :-> hasReceiver(eg_49,x_49).
        f1665 :-> hasTheme(eg_49,l_49).
        f1666 :-> publish(epc_49).
        f1667 :-> hasAgent(epc_49,x_49).
        f1668 :-> hasTheme(epc_49,c_49).
        f1669 :-> isCommentOf(c_49,ev_49).
        f1670 :-> publish(epr_49).
        f1671 :-> hasAgent(epr_49,x_49).
        f1672 :-> hasTheme(epr_49,r_49).
        f1673 :-> remove(er_49).
        f1674 :-> hasAgent(er_49,x_49).
        f1675 :-> hasTheme(er_49,r_49).
        f1676 :-> rexist(ec_49).
        f1677 :-> rexist(ev_49).
        f1678 :-> rexist(eg_49).
        f1679 :-> rexist(epr_49).
        f1680 :-> rexist(er_49).
        
        """.trimIndent()

    private val structuredTheory = baseTheory + "queryMode."

    private fun evaluateBoth(
        query: String,
        argsIn: String,
        argsOut: String,
        argsUnd: String,
    ) {
        TestingUtils.answerQuery(baseTheory, query, argsIn, argsOut, argsUnd)
        TestingUtils.answerQuery(structuredTheory, query, argsIn, argsOut, argsUnd)
    }

    @Test
    @ExperimentalTime
    fun abstractResolutionSpeedTest() {
        val time =
            measureTime {
                TestingUtils.answerQuery(
                    baseTheory,
                    "violation(X)",
                    "[violation(viol(ca(epr, x, r))), violation(viol(epr)), violation(viol(epc))]",
                    "[]",
                    "[]",
                )
            }

        println(time.toDouble(DurationUnit.SECONDS))
    }

    @Test
    @ExperimentalTime
    fun structuredResolutionSpeedTest() {
        val time =
            measureTime {
                TestingUtils.answerQuery(
                    structuredTheory,
                    "violation(X)",
                    "[violation(viol(ca(epr, x, r))), violation(viol(epr)), violation(viol(epc))]",
                    "[]",
                    "[]",
                )
            }

        println(time.toDouble(DurationUnit.SECONDS))
    }

    @Test
    @ExperimentalTime
    fun structuredResolution() {
        val prepare = { theory: String ->
            arg2pScope {
                Arg2pSolver.default().let { arg2pSolver ->
                    ClassicSolverFactory
                        .mutableSolverWithDefaultBuiltins(
                            otherLibraries = arg2pSolver.to2pLibraries().plus(FlagsBuilder().create().content()),
                            staticKb = Theory.parse(theory, arg2pSolver.operators()),
                        ).let { solver ->
                            solver
                                .solve(
                                    "parser" call "convertAllRules"(`_`),
                                    SolveOptions.allLazilyWithTimeout(TimeDuration.MAX_VALUE),
                                ).first()
                            solver
                        }
                }
            }
        }

        val run = { queryList: List<String>, solver: MutableSolver ->
            arg2pScope {
                queryList.map { query ->
                    println("Evaluating $query")
                    solver
                        .solve(
                            "structured" call
                                "query"(
                                    Struct.parse(query, Arg2pSolver.default().operators()),
                                    X,
                                ),
                            SolveOptions.allLazilyWithTimeout(TimeDuration.MAX_VALUE),
                        ).first()
                        .let {
                            Pair(query, it.substitution[X]!!.toString() == "yes")
                        }
                }
            }
        }

        val totalTime =
            measureTime {
                IntRange(0, 49)
                    .map { i ->
                        listOf(
                            "violation(viol(epr_$i))",
                            "violation(viol(ca(epr_$i, x_$i, r_$i)))",
                            "o(-publish(epc_$i))",
                            "o(-publish(epr_$i))",
                            "o(publish(epr_$i))",
                            "o(remove(ca(epr_$i, x_$i, r_$i)))",
                        )
                    }.flatten()
                    .also { queries ->
                        prepare(structuredTheory).also {
                            val time =
                                measureTime {
                                    run(queries, it)
                                        .forEach { s -> println(s.component1() + ":" + s.component2()) }
                                }

                            println(time.toDouble(DurationUnit.MILLISECONDS))
                        }
                    }
            }

        println(totalTime.toDouble(DurationUnit.MILLISECONDS))
    }
}
